import{a as S}from"./chunk-OS27YV25.js";import{Ba as e,Ca as i,Da as c,Db as h,K as u,Ka as C,La as v,Nb as _,Ob as g,Qb as F,Rb as y,Sb as x,Ta as n,Ub as b,Vb as E,Ya as f,Yb as N,Zb as P,_b as k,ac as L,ca as a,da as p,ma as l,mb as w,qa as d,wa as s}from"./chunk-OWFPBQS6.js";function q(t,m){t&1&&(e(0,"div"),n(1,"Enter Username or Email"),i())}function V(t,m){if(t&1&&(e(0,"div",6),l(1,q,2,0,"div"),i()),t&2){let o=v();a(),s(o.f.username.errors.required?1:-1)}}function U(t,m){t&1&&(e(0,"div"),n(1,"Enter Password"),i())}function O(t,m){if(t&1&&(e(0,"div",6),l(1,U,2,0,"div"),i()),t&2){let o=v();a(),s(o.f.password.errors.required?1:-1)}}function W(t,m){t&1&&(e(0,"div",14)(1,"span",15),n(2,"Loading..."),i()())}var A=class t{constructor(m,o,r){this.fb=m;this.authService=o;this.router=r}loading=!1;submitted=!1;loginForm=new x({username:new b(""),password:new b("")});ngOnInit(){this.loginForm=this.fb.group({username:["emmanuel@abstrak.agency",[g.required]],password:["password",[g.required]]})}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authService.Login(this.f.username.value,this.f.password.value).subscribe({next:()=>{this.router.navigateByUrl("/")}}).add(()=>this.loading=!1))}static \u0275fac=function(o){return new(o||t)(p(k),p(S),p(h))};static \u0275cmp=u({type:t,selectors:[["app-login"]],standalone:!0,features:[f],decls:26,vars:8,consts:[[1,"mb-1","fs-7","fw-bolder"],[1,"mb-7"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","formControlName","username",1,"form-control",3,"readonly"],[1,"invalid-feedback"],["type","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"readonly"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"form-check"],["type","checkbox","value","","id","flexCheckChecked","checked","",1,"form-check-input","primary",3,"disabled"],["for","flexCheckChecked",1,"form-check-label","text-dark","fs-3"],["href","forgot-password",1,"text-primary","fw-medium","fs-3"],["type","submit",1,"btn","btn-primary","w-100","py-8","mb-4","rounded-2",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"]],template:function(o,r){o&1&&(e(0,"h2",0),n(1,"Login"),i(),e(2,"p",1),n(3,"Access the adminstration portal"),i(),e(4,"form",2),C("ngSubmit",function(){return r.onSubmit()}),e(5,"div",3)(6,"label",4),n(7,"Username / Email"),i(),c(8,"input",5),l(9,V,2,1,"div",6),i(),e(10,"div",3)(11,"label",4),n(12,"Password"),i(),c(13,"input",7),l(14,O,2,1,"div",6),i(),e(15,"div",8)(16,"div",9),c(17,"input",10),e(18,"label",11),n(19," Remember me "),i()(),e(20,"a",12),n(21,"Forgot Password ?"),i()(),e(22,"button",13),l(23,W,3,0,"div",14),e(24,"span"),n(25,"Log In"),i()()()),o&2&&(a(4),d("formGroup",r.loginForm),a(4),d("readonly",r.loading),a(),s(r.submitted&&r.f.username.errors?9:-1),a(4),d("readonly",r.loading),a(),s(r.submitted&&r.f.password.errors?14:-1),a(3),d("disabled",r.loading),a(5),d("disabled",r.loading),a(),s(r.loading?23:-1))},dependencies:[L,E,_,F,y,N,P,w]})};function z(t,m){t&1&&(e(0,"div"),n(1,"Email is required"),i())}function H(t,m){t&1&&(e(0,"div"),n(1,"Email is invalid"),i())}function J(t,m){if(t&1&&(e(0,"div",6),l(1,z,2,0,"div")(2,H,2,0,"div"),i()),t&2){let o=v();a(),s(o.f.email.errors.required?1:o.f.email.errors.email?2:-1)}}function K(t,m){t&1&&(e(0,"div",9)(1,"span",11),n(2,"Loading..."),i()())}var T=class t{constructor(m,o,r){this.fb=m;this.authService=o;this.router=r}loading=!1;submitted=!1;forgotForm=new x({email:new b("")});ngOnInit(){this.forgotForm=this.fb.group({email:["",[g.required,g.email]]})}get f(){return this.forgotForm.controls}onSubmit(){this.submitted=!0,!this.forgotForm.invalid&&(this.loading=!0,this.authService.Login(this.f.email.value,this.f.password.value).subscribe({next:()=>{this.router.navigateByUrl("/")}}).add(()=>this.loading=!1))}static \u0275fac=function(o){return new(o||t)(p(k),p(S),p(h))};static \u0275cmp=u({type:t,selectors:[["app-forgot-password"]],standalone:!0,features:[f],decls:17,vars:4,consts:[[1,"mb-1","fs-7","fw-bolder"],[1,"mb-7"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],[1,"invalid-feedback"],[1,"d-flex","align-items-center","gap-3","justify-content-between"],["type","submit",1,"btn","btn-primary","w-100","rounded-2",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm"],["href","login",1,"btn","btn-light"],[1,"visually-hidden"]],template:function(o,r){o&1&&(e(0,"h2",0),n(1,"Forgot Password?"),i(),e(2,"p",1),n(3,"We will send instructions to your registered email"),i(),e(4,"form",2),C("ngSubmit",function(){return r.onSubmit()}),e(5,"div",3)(6,"label",4),n(7,"Email Address"),i(),c(8,"input",5),l(9,J,3,1,"div",6),i(),e(10,"div",7)(11,"button",8),l(12,K,3,0,"div",9),e(13,"span"),n(14,"Get Instructions"),i()(),e(15,"a",10),n(16,"Cancel"),i()()()),o&2&&(a(4),d("formGroup",r.forgotForm),a(5),s(r.submitted&&r.f.email.errors?9:-1),a(2),d("disabled",r.loading),a(),s(r.loading?12:-1))},dependencies:[L,E,_,F,y,N,P,w]})};var D=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=u({type:t,selectors:[["app-new-password"]],standalone:!0,features:[f],decls:2,vars:0,template:function(o,r){o&1&&(e(0,"p"),n(1,"new-password works!"),i())}})};var se=[{path:"",children:[{path:"login",component:A},{path:"forgot-password",component:T},{path:"new-password",component:D}]}];export{se as AuthRoutes};
